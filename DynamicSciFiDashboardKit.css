/* DynamicSciFiDashboardKit.css */
:root {
    /* ... (tus variables existentes sin cambios) ... */
    --dsdk-font-sans: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --dsdk-font-mono: 'Consolas', 'Menlo', 'Monaco', monospace;
    
    --dsdk-text-color: #e0e0e0;
    --dsdk-text-color-darker: #a0a0a0;
    --dsdk-text-color-dim: #707070;

    --dsdk-accent-color-main: #8A2BE2; /* BlueViolet */
    --dsdk-accent-color-secondary: #00E5E5; /* Cyan / Teal brillante */
    
    --dsdk-warning-color: #FFD700; /* Gold */
    --dsdk-danger-color: #FF4500; /* OrangeRed */
    --dsdk-success-color: #32CD32; /* LimeGreen */

    --dsdk-rgb-warning-color: 255, 215, 0;
    --dsdk-rgb-danger-color: 255, 69, 0;
    --dsdk-rgb-success-color: 50, 205, 50;
    --dsdk-rgb-accent-secondary: 0, 229, 229;

    --dsdk-panel-bg: rgba(10, 10, 20, 0.7);
    --dsdk-panel-border-default: rgba(0, 229, 229, 0.2);
    --dsdk-panel-border-critical: rgba(var(--dsdk-rgb-danger-color), 0.4);
    --dsdk-panel-border-warning: rgba(var(--dsdk-rgb-warning-color), 0.4);
    --dsdk-panel-border-stable: rgba(var(--dsdk-rgb-success-color), 0.3);

    --dsdk-panel-header-bg-default: rgba(0, 229, 229, 0.1);
    --dsdk-panel-header-bg-critical: rgba(var(--dsdk-rgb-danger-color), 0.2);
    --dsdk-panel-header-bg-warning: rgba(var(--dsdk-rgb-warning-color), 0.2);
    --dsdk-panel-header-bg-stable: rgba(var(--dsdk-rgb-success-color), 0.2);

    --dsdk-spark-color-1-default: var(--dsdk-accent-color-secondary);
    --dsdk-spark-color-2-default: white;
    --dsdk-spark-color-1-critical: var(--dsdk-danger-color);
    --dsdk-spark-color-2-critical: var(--dsdk-warning-color);
    --dsdk-spark-color-1-warning: var(--dsdk-warning-color);
    --dsdk-spark-color-2-warning: white;

    --dsdk-scanline-halo-color-default: rgba(var(--dsdk-rgb-danger-color), 0.15);
    --dsdk-scanline-thickness-default: 4px; 
    
    /* Variables para IntegrityPulsePanel */
    --dsdk-pulse-bar-color: var(--dsdk-accent-color-secondary);
    --dsdk-pulse-bar-min-height: 20%;
    --dsdk-pulse-bar-max-height: 80%;
    --dsdk-pulse-bar-opacity-min: 0.6;
    --dsdk-pulse-bar-opacity-max: 1;
    --dsdk-pulse-bar-shadow-intensity: 3px;

    /* Variables para CircularGaugePanel */
    --dsdk-gauge-bg-color: rgba(0, 0, 0, 0.1); 
    --dsdk-gauge-arc-background: rgba(255, 255, 255, 0.08);
    --dsdk-gauge-arc-normal: var(--dsdk-accent-color-secondary);
    --dsdk-gauge-arc-warning: var(--dsdk-warning-color);
    --dsdk-gauge-arc-critical: var(--dsdk-danger-color);
    --dsdk-gauge-arc-stable: var(--dsdk-success-color);
    --dsdk-gauge-value-color-normal: var(--dsdk-text-color);
    --dsdk-gauge-value-color-warning: var(--dsdk-warning-color);
    --dsdk-gauge-value-color-critical: var(--dsdk-danger-color);
    --dsdk-gauge-value-color-stable: var(--dsdk-success-color);
    --dsdk-gauge-label-color: var(--dsdk-text-color-dim);
    --dsdk-gauge-units-color: var(--dsdk-text-color-darker);
    --dsdk-gauge-target-marker-color: rgba(255, 255, 255, 0.6);

    /* Variables para StatusIndicatorLedPanel */
    --dsdk-status-led-size: 10px;
    --dsdk-status-led-shadow-intensity: 4px;
    --dsdk-status-led-color-green: var(--dsdk-success-color);
    --dsdk-status-led-color-yellow: var(--dsdk-warning-color);
    --dsdk-status-led-color-red: var(--dsdk-danger-color);
    --dsdk-status-led-color-blue: var(--dsdk-accent-color-secondary);
    --dsdk-status-led-color-orange: #FFA500;
    --dsdk-status-led-color-purple: #8A2BE2;
    --dsdk-status-led-color-cyan: #00FFFF;
    --dsdk-status-led-color-white: #FFFFFF;
    --dsdk-status-led-color-off: #4a4a52;
    --dsdk-status-led-rgb-green: var(--dsdk-rgb-success-color);
    --dsdk-status-led-rgb-yellow: var(--dsdk-rgb-warning-color);
    --dsdk-status-led-rgb-red: var(--dsdk-rgb-danger-color);
    --dsdk-status-led-rgb-blue: var(--dsdk-rgb-accent-secondary);
    --dsdk-status-led-rgb-orange: 255, 165, 0;
    --dsdk-status-led-rgb-purple: 138, 43, 226;
    --dsdk-status-led-rgb-cyan: 0, 255, 255;
    --dsdk-status-led-rgb-white: 255, 255, 255;
    --dsdk-status-led-rgb-off: 74, 74, 82;

    /* Variables para HorizontalBarGaugePanel */
    --dsdk-gauge-h-track-bg: rgba(255, 255, 255, 0.08);
    --dsdk-gauge-h-bar-normal: var(--dsdk-accent-color-secondary);
    --dsdk-gauge-h-bar-warning: var(--dsdk-warning-color);
    --dsdk-gauge-h-bar-critical: var(--dsdk-danger-color);
    --dsdk-gauge-h-bar-stable: var(--dsdk-success-color);
    --dsdk-gauge-h-value-color: var(--dsdk-text-color);
    --dsdk-gauge-h-label-color: var(--dsdk-text-color-dim);
    --dsdk-gauge-h-units-color: var(--dsdk-text-color-darker);
}

*, *::before, *::after { box-sizing: border-box; }
.dsdk-panel { 
    background-color: var(--dsdk-panel-bg); 
    border: 1px solid var(--dsdk-panel-border-default); 
    border-radius: 0.5rem; 
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.3); 
    transition: border-color 0.5s ease-in-out, box-shadow 0.3s ease-in-out; 
    position: relative; 
    font-family: var(--dsdk-font-sans); 
    color: var(--dsdk-text-color); 
    margin-bottom: 10px; 
}
.dsdk-panel-header { 
    font-size: 0.9rem; 
    font-weight: 600; 
    color: var(--dsdk-accent-color-secondary); 
    padding: 8px 10px; 
    border-bottom: 1px solid var(--dsdk-panel-header-bg-default); 
    text-transform: uppercase; 
    letter-spacing: 0.05em; 
    flex-shrink: 0;
    transition: color 0.5s ease-in-out, border-bottom-color 0.5s ease-in-out; 
    position: relative; 
    z-index: 1; 
}
.dsdk-panel-content { 
    flex-grow: 1; /* Permite que el contenido crezca para llenar el panel */
    overflow-y: auto; /* Scroll si el contenido interno es más grande que el panel-content */
    padding: 10px; 
    font-size: 0.8rem; 
    scrollbar-width: thin; 
    scrollbar-color: var(--dsdk-accent-color-secondary) var(--dsdk-panel-bg); 
    position: relative; /* Para z-index y otros posicionamientos internos */
    z-index: 1;
    max-height: 250px; /* Límite general, anulado por excepciones */
    /* min-height: 0; Es importante para flexbox en algunos casos, pero con flex-grow:1 usualmente no se necesita explícitamente aquí */
}

/* Excepciones para paneles que gestionan su propio padding/altura interna de forma diferente */
.dsdk-integrity-pulse-panel .dsdk-panel-content,
.dsdk-canvas-graph-panel .dsdk-panel-content,
.dsdk-critical-warning-text-panel .dsdk-panel-content,
.dsdk-circular-gauge-panel .dsdk-panel-content,
.dsdk-horizontal-bar-gauge-panel .dsdk-panel-content {
    padding: 0 !important; /* Sin padding interno para estos contenedores especiales */
    max-height: none !important; /* Anula el max-height general */
    display: flex; /* Se convierten en contenedores flex */
    flex-direction: column; /* Para que sus hijos se apilen verticalmente */
    flex-grow: 1; /* CORRECCIÓN: Asegura que estos panel-content también se expandan para llenar el espacio vertical del panel padre */
    /* overflow: hidden;  Se podría considerar si el contenido interno causa problemas, pero generalmente no es necesario aquí */
}


.dsdk-panel-content::-webkit-scrollbar { width: 6px; }
.dsdk-panel-content::-webkit-scrollbar-track { background: var(--dsdk-panel-bg); border-radius: 3px; }
.dsdk-panel-content::-webkit-scrollbar-thumb { background-color: var(--dsdk-accent-color-secondary); border-radius: 3px; }

.dsdk-panel.dsdk-panel-critical { border-color: var(--dsdk-panel-border-critical); box-shadow: inset 0 0 5px rgba(0,0,0,0.3), 0 0 15px rgba(var(--dsdk-rgb-danger-color), 0.2); }
.dsdk-panel.dsdk-panel-critical .dsdk-panel-header { color: var(--dsdk-danger-color); border-bottom-color: var(--dsdk-panel-header-bg-critical); }
.dsdk-panel.dsdk-panel-warning { border-color: var(--dsdk-panel-border-warning); box-shadow: inset 0 0 5px rgba(0,0,0,0.3), 0 0 10px rgba(var(--dsdk-rgb-warning-color), 0.15); }
.dsdk-panel.dsdk-panel-warning .dsdk-panel-header { color: var(--dsdk-warning-color); border-bottom-color: var(--dsdk-panel-header-bg-warning); }
.dsdk-panel.dsdk-panel-stable { border-color: var(--dsdk-panel-border-stable); }
.dsdk-panel.dsdk-panel-stable .dsdk-panel-header { color: var(--dsdk-success-color); border-bottom-color: var(--dsdk-panel-header-bg-stable); }
.dsdk-sparks-effect::before, .dsdk-sparks-effect::after { content: ''; position: absolute; width: 3px; height: 3px; border-radius: 50%; opacity: 0; animation: dsdk-spark-animation 1.5s infinite; pointer-events: none; z-index: 2; transition: opacity 0.5s ease-out, background-color 0.5s ease-in-out, box-shadow 0.5s ease-in-out; }
.dsdk-panel.dsdk-sparks-effect.dsdk-panel-critical::before, .dsdk-panel.dsdk-sparks-effect.dsdk-panel-critical::after { background: var(--dsdk-spark-color-1-critical); box-shadow: 0 0 5px var(--dsdk-spark-color-1-critical), 0 0 10px var(--dsdk-spark-color-1-critical), 0 0 15px var(--dsdk-spark-color-2-critical); }
.dsdk-panel.dsdk-sparks-effect.dsdk-panel-warning::before, .dsdk-panel.dsdk-sparks-effect.dsdk-panel-warning::after { background: var(--dsdk-spark-color-1-warning); box-shadow: 0 0 5px var(--dsdk-spark-color-1-warning), 0 0 10px var(--dsdk-spark-color-1-warning), 0 0 15px var(--dsdk-spark-color-2-warning); }
.dsdk-panel.dsdk-sparks-effect:not(.dsdk-panel-critical):not(.dsdk-panel-warning)::before, .dsdk-panel.dsdk-sparks-effect:not(.dsdk-panel-critical):not(.dsdk-panel-warning)::after { background: var(--dsdk-spark-color-1-default); box-shadow: 0 0 5px var(--dsdk-spark-color-1-default), 0 0 10px var(--dsdk-spark-color-1-default), 0 0 15px var(--dsdk-spark-color-2-default); }
.dsdk-sparks-effect::before { top: -2px; left: -2px; animation-delay: 0s; }
.dsdk-sparks-effect::after { bottom: -2px; right: -2px; animation-delay: 0.75s; }
.dsdk-panel.dsdk-sparks-effect.dsdk-panel-critical::before { top: -2px; right: -2px; left: auto; animation-delay: 0.2s; }
.dsdk-panel.dsdk-sparks-effect.dsdk-panel-critical::after { bottom: -2px; left: -2px; right: auto; animation-delay: 1s; }
.dsdk-panel.dsdk-sparks-effect.dsdk-panel-stable::before, .dsdk-panel.dsdk-sparks-effect.dsdk-panel-stable::after, .dsdk-panel.dsdk-sparks-effect.dsdk-panel-normal::before, .dsdk-panel.dsdk-sparks-effect.dsdk-panel-normal::after { opacity: 0; }
@keyframes dsdk-spark-animation { 0%, 100% { opacity: 0; transform: scale(0.5) translate(0,0); } 20% { opacity: 1; transform: scale(1) translate(5px, -5px); } 40% { opacity: 0.8; transform: scale(0.8) translate(-3px, 3px); } 60% { opacity: 1; transform: scale(1.2) translate(2px, -2px); } 80% { opacity: 0; transform: scale(0.3) translate(0,0); } }
.dsdk-panel.dsdk-scanline-halo-active::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: inherit; background-image: linear-gradient( transparent 50%, var(--dsdk-current-scanline-halo-color, var(--dsdk-scanline-halo-color-default)) 50% ); background-size: 100% var(--dsdk-current-scanline-thickness, var(--dsdk-scanline-thickness-default)); opacity: var(--dsdk-current-scanline-opacity, 0.08); animation: dsdk-scanlines-anim 10s linear infinite; pointer-events: none; z-index: 0; transition: opacity 0.5s ease-in-out; }
@keyframes dsdk-scanlines-anim { 0% { background-position: 0 0; } 100% { background-position: 0 100px; } }
.dsdk-panel:not(.dsdk-scanline-halo-active)::after { opacity: 0; }
.dsdk-log-list { list-style: none; padding: 0; margin: 0; }
.dsdk-log-list li { padding: 3px 0; font-family: var(--dsdk-font-mono); font-size: 0.75rem; line-height: 1.3; color: var(--dsdk-text-color-darker); transition: color 0.5s ease-in-out, font-weight 0.5s ease-in-out; border-bottom: 1px dashed rgba(255,255,255,0.05);}
.dsdk-log-list li:last-child { border-bottom: none; }
.dsdk-log-list .dsdk-log-info { color: var(--dsdk-accent-color-secondary); }
.dsdk-log-list .dsdk-log-warn { color: var(--dsdk-warning-color); }
.dsdk-log-list .dsdk-log-error { color: var(--dsdk-danger-color); font-weight: 500; }
.dsdk-log-list .dsdk-log-success { color: var(--dsdk-success-color); font-weight: normal; }
.dsdk-key-value-list { list-style: none; padding: 0; margin: 0; }
.dsdk-key-value-list li { padding: 4px 2px; border-bottom: 1px dashed rgba(255,255,255,0.05); font-family: var(--dsdk-font-mono); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.dsdk-key-value-list li:last-child { border-bottom: none; }
.dsdk-key-value-list .dsdk-key { color: var(--dsdk-text-color-dim); }
.dsdk-key-value-list .dsdk-value { color: var(--dsdk-accent-color-secondary); float: right; transition: color 0.5s ease-in-out; margin-left: 10px; }
.dsdk-led-counter-group { text-align: center; background-color: rgba(0,0,0,0.1); padding: 8px 5px; border-radius: 4px; border: 1px solid rgba(var(--dsdk-panel-border-default), 0.5); }
.dsdk-led-label { display: block; font-size: 0.65rem; color: var(--dsdk-text-color-dim); margin-bottom: 4px; text-transform: uppercase; }
.dsdk-led-display { font-family: var(--dsdk-font-mono); font-weight: bold; font-size: 1.8rem; color: var(--dsdk-success-color); background-color: #040804; padding: 6px 4px; border-radius: 3px; letter-spacing: 2px; text-shadow: 0 0 4px currentColor, 0 0 8px currentColor, 0 0 12px rgba(var(--dsdk-rgb-success-color), 0.6); line-height: 1; display: flex; align-items: center; justify-content: center; min-height: 36px; box-shadow: inset 0 0 4px rgba(0,0,0,0.4); overflow: hidden; white-space: nowrap; transition: color 0.3s, text-shadow 0.3s; }
.dsdk-led-display.dsdk-led-critical { color: var(--dsdk-danger-color); text-shadow: 0 0 4px var(--dsdk-danger-color), 0 0 8px var(--dsdk-danger-color), 0 0 12px rgba(var(--dsdk-rgb-danger-color), 0.6); animation: dsdk-led-critical-pulse 0.5s infinite alternate; }
.dsdk-led-display.dsdk-led-warning { color: var(--dsdk-warning-color); text-shadow: 0 0 4px var(--dsdk-warning-color), 0 0 8px var(--dsdk-warning-color), 0 0 12px rgba(var(--dsdk-rgb-warning-color), 0.6); animation: none; }
@keyframes dsdk-led-critical-pulse { from { opacity: 0.7; } to { opacity: 1; } }
.dsdk-dynamic-text-container { display: flex; align-items: center; justify-content: center; text-align: center; padding: 10px; min-height: 60px; width: 100%; height: 100%;}
.dsdk-dynamic-text { font-family: var(--dsdk-font-mono); font-size: 1.1rem; color: var(--dsdk-text-color); text-shadow: none; filter: blur(0px); overflow-wrap: break-word; word-break: break-all; max-width: 95%; line-height: 1.4; transition: filter 0.5s ease-in-out, color 0.5s ease-in-out, text-shadow 0.5s ease-in-out; }
.dsdk-dynamic-text.dsdk-blurred-text { filter: blur(1.5px); }
.dsdk-dynamic-text.dsdk-flicker-text { animation: dsdk-text-content-flicker 0.1s infinite alternate; }
.dsdk-dynamic-text.dsdk-glitch-text { animation: dsdk-text-glitch 0.5s infinite steps(2, jump-none); }
@keyframes dsdk-text-content-flicker { from { opacity: 0.6; } to { opacity: 1; transform: skewX(-0.5deg); } }
@keyframes dsdk-text-glitch { 0%, 100% { opacity: 1; transform: translate(0,0); } 25% { opacity: 0.7; transform: translate(2px, -1px) skewX(-2deg); } 50% { opacity: 0.9; transform: translate(-1px, 1px) skewY(1deg); } 75% { opacity: 0.6; transform: translate(1px, -2px) skewX(2deg); } }
.dsdk-action-buttons-container { display: flex; flex-direction: column; gap: 8px; }
.dsdk-button { display: block; width: 100%; padding: 8px; font-family: var(--dsdk-font-sans); font-weight: 600; color: var(--dsdk-text-color); background-color: rgba(var(--dsdk-rgb-accent-secondary), 0.2); border: 1px solid rgba(var(--dsdk-rgb-accent-secondary), 0.5); border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; text-align: center; text-transform: uppercase; }
.dsdk-button:hover:not(:disabled) { background-color: rgba(var(--dsdk-rgb-accent-secondary), 0.4); border-color: var(--dsdk-accent-color-secondary); }
.dsdk-button:disabled { opacity: 0.5; cursor: not-allowed; }
.dsdk-button.dsdk-button-danger { background-color: rgba(var(--dsdk-rgb-danger-color), 0.2); border-color: rgba(var(--dsdk-rgb-danger-color), 0.5); }
.dsdk-button.dsdk-button-danger:hover:not(:disabled) { background-color: rgba(var(--dsdk-rgb-danger-color), 0.4); border-color: var(--dsdk-danger-color); }
.dsdk-button.dsdk-button-warning { background-color: rgba(var(--dsdk-rgb-warning-color), 0.2); border-color: rgba(var(--dsdk-rgb-warning-color), 0.5); }
.dsdk-button.dsdk-button-warning:hover:not(:disabled) { background-color: rgba(var(--dsdk-rgb-warning-color), 0.4); border-color: var(--dsdk-warning-color); }
.dsdk-button.dsdk-button-success { background-color: rgba(var(--dsdk-rgb-success-color), 0.2); border-color: rgba(var(--dsdk-rgb-success-color), 0.5); }
.dsdk-button.dsdk-button-success:hover:not(:disabled) { background-color: rgba(var(--dsdk-rgb-success-color), 0.4); border-color: var(--dsdk-success-color); }

.dsdk-canvas-graph { 
    display: block;
    width: 100%; 
    height: 100%; 
}

.dsdk-critical-warning-text-container { 
    border: 2px solid var(--dsdk-danger-color); 
    border-radius: 0.5rem; 
    background-color: rgba(var(--dsdk-rgb-danger-color), 0.15); 
    box-shadow: 0 0 10px rgba(var(--dsdk-rgb-danger-color),0.5), inset 0 0 8px rgba(var(--dsdk-rgb-danger-color),0.3); 
    transition: border-color 0.5s ease-in-out, background-color 0.5s ease-in-out, box-shadow 0.5s ease-in-out; 
    display: flex; 
    align-items: center; 
    justify-content: center;
    /* width: 100%; height: 100%;  Ya es manejado por flex-grow del panel-content */
}
.dsdk-critical-warning-text { font-family: var(--dsdk-font-mono); font-size: 2.2rem; font-weight: 900; color: var(--dsdk-danger-color); text-align: center; text-transform: uppercase; animation: dsdk-crt-warning-flicker 1.2s infinite steps(2); line-height: 1; letter-spacing: 1px; transition: color 0.5s ease-in-out, text-shadow 0.5s ease-in-out; }
.dsdk-critical-warning-text-container.dsdk-state-critical { border-color: var(--dsdk-danger-color); background-color: rgba(var(--dsdk-rgb-danger-color), 0.15); box-shadow: 0 0 10px rgba(var(--dsdk-rgb-danger-color),0.5), inset 0 0 8px rgba(var(--dsdk-rgb-danger-color),0.3); }
.dsdk-critical-warning-text.dsdk-state-critical { color: var(--dsdk-danger-color); animation-name: dsdk-crt-warning-flicker; }
.dsdk-critical-warning-text-container.dsdk-state-stabilizing { border-color: var(--dsdk-warning-color); background-color: rgba(var(--dsdk-rgb-warning-color), 0.1); box-shadow: 0 0 10px rgba(var(--dsdk-rgb-warning-color),0.4), inset 0 0 8px rgba(var(--dsdk-rgb-warning-color),0.2); }
.dsdk-critical-warning-text.dsdk-state-stabilizing { color: var(--dsdk-warning-color); animation-name: dsdk-crt-stabilizing-flicker; }
.dsdk-critical-warning-text-container.dsdk-state-stable { border-color: var(--dsdk-success-color); background-color: rgba(var(--dsdk-rgb-success-color), 0.1); box-shadow: 0 0 10px rgba(var(--dsdk-rgb-success-color),0.4), inset 0 0 8px rgba(var(--dsdk-rgb-success-color),0.2); }
.dsdk-critical-warning-text.dsdk-state-stable { color: var(--dsdk-success-color); animation-name: dsdk-crt-stable-glow; }
@keyframes dsdk-crt-warning-flicker { 0%, 100% { opacity: 1; text-shadow: 0 0 3px var(--dsdk-danger-color), 0 0 8px var(--dsdk-danger-color), 0 0 1px #fff; transform: none; } 5% { opacity: 0.8; text-shadow: 0 0 6px var(--dsdk-danger-color), 0 0 12px var(--dsdk-danger-color), 0 0 2px #fff; } 10% { opacity: 1; } 15% { opacity: 0.5; text-shadow: 0 0 3px var(--dsdk-danger-color), 0 0 6px var(--dsdk-danger-color); } 20% { opacity: 1; } 50% { opacity: 0.9; transform: skewX(-0.8deg) skewY(0.3deg); text-shadow: 0 0 5px var(--dsdk-danger-color), 0 0 10px var(--dsdk-danger-color), 1px 1px 1px #f30; } 50.5% { opacity: 1; transform: skewX(0); } }
@keyframes dsdk-crt-stabilizing-flicker { 0%, 100% { opacity: 1; text-shadow: 0 0 3px var(--dsdk-warning-color), 0 0 6px var(--dsdk-warning-color); transform: none; } 50% { opacity: 0.7; text-shadow: 0 0 5px var(--dsdk-warning-color), 0 0 10px var(--dsdk-warning-color); } }
@keyframes dsdk-crt-stable-glow { 0%, 100% { opacity: 1; text-shadow: 0 0 4px var(--dsdk-success-color), 0 0 8px var(--dsdk-success-color), 0 0 1px #fff; } 50% { opacity: 0.9; text-shadow: 0 0 6px var(--dsdk-success-color), 0 0 12px var(--dsdk-success-color), 0 0 2px #fff; } }
.dsdk-text-danger { color: var(--dsdk-danger-color) !important; font-weight: bold;}
.dsdk-text-warning { color: var(--dsdk-warning-color) !important; }
.dsdk-text-success { color: var(--dsdk-success-color) !important; font-weight: bold;}
.dsdk-text-info { color: var(--dsdk-accent-color-secondary) !important;}
.dsdk-text-flicker { animation: dsdk-text-flicker-anim 1s infinite; }
@keyframes dsdk-text-flicker-anim { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
.dsdk-text-pulse-strong { animation: dsdk-text-pulse-strong-anim 0.8s infinite; }
@keyframes dsdk-text-pulse-strong-anim { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.02); } }
.dsdk-text-pulse-subtle { animation: dsdk-text-pulse-subtle-anim 1.2s infinite; }
@keyframes dsdk-text-pulse-subtle-anim { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }

/* --- IntegrityPulsePanel Styles --- */
.dsdk-integrity-pulse-container { 
    display: flex; 
    justify-content: space-around; 
    align-items: flex-end; 
    width: 100%; 
    flex-grow: 1; /* Para que este contenedor llene el panel-content (que es flex column) */
    min-height: 60px; 
    background-color: rgba(0,0,0,0.2); 
    border-radius: 0 0 0.4rem 0.4rem; 
    overflow: hidden; 
    padding: 0 5px; 
}
.dsdk-pulse-bar { 
    /* width se establece por JS */
    min-width: 2px; 
    border-radius: 3px 3px 0 0; 
    background-color: var(--dsdk-pulse-bar-color); 
    animation-name: dsdk-pulse-bar-animation; 
    animation-iteration-count: infinite; 
    animation-timing-function: ease-in-out; 
    transition: background-color 0.5s ease-in-out; 
}
@keyframes dsdk-pulse-bar-animation { 
    0%, 100% { height: var(--dsdk-pulse-bar-min-height); opacity: var(--dsdk-pulse-bar-opacity-min); box-shadow: 0 0 calc(var(--dsdk-pulse-bar-shadow-intensity) / 2) currentColor; } 
    50% { height: var(--dsdk-pulse-bar-max-height); opacity: var(--dsdk-pulse-bar-opacity-max); box-shadow: 0 0 var(--dsdk-pulse-bar-shadow-intensity) currentColor, 0 0 calc(var(--dsdk-pulse-bar-shadow-intensity) * 2) currentColor; } 
}
.dsdk-integrity-pulse-panel.dsdk-panel-normal, .dsdk-integrity-pulse-panel:not(.dsdk-panel-critical):not(.dsdk-panel-warning):not(.dsdk-panel-stable) { --dsdk-pulse-bar-color: var(--dsdk-accent-color-secondary); --dsdk-pulse-bar-min-height: 30%; --dsdk-pulse-bar-max-height: 70%; --dsdk-pulse-bar-opacity-min: 0.7; --dsdk-pulse-bar-opacity-max: 0.9; --dsdk-pulse-bar-shadow-intensity: 2px; }
.dsdk-integrity-pulse-panel.dsdk-panel-critical { --dsdk-pulse-bar-color: var(--dsdk-danger-color); --dsdk-pulse-bar-min-height: 15%; --dsdk-pulse-bar-max-height: 85%; --dsdk-pulse-bar-opacity-min: 0.6; --dsdk-pulse-bar-opacity-max: 1; --dsdk-pulse-bar-shadow-intensity: 4px; }
.dsdk-integrity-pulse-panel.dsdk-panel-warning { --dsdk-pulse-bar-color: var(--dsdk-warning-color); --dsdk-pulse-bar-min-height: 25%; --dsdk-pulse-bar-max-height: 75%; --dsdk-pulse-bar-opacity-min: 0.65; --dsdk-pulse-bar-opacity-max: 0.95; --dsdk-pulse-bar-shadow-intensity: 3px; }
.dsdk-integrity-pulse-panel.dsdk-panel-stable { --dsdk-pulse-bar-color: var(--dsdk-success-color); --dsdk-pulse-bar-min-height: 50%; --dsdk-pulse-bar-max-height: 95%; --dsdk-pulse-bar-opacity-min: 0.8; --dsdk-pulse-bar-opacity-max: 1; --dsdk-pulse-bar-shadow-intensity: 3px; }


/* --- CircularGaugePanel Styles --- */
.dsdk-circular-gauge-panel .dsdk-panel-content { /* Hereda flex-grow: 1 de la regla de excepción */
    background-color: var(--dsdk-gauge-bg-color); 
    overflow: hidden;  
}
.dsdk-gauge-svg-container { 
    width: 100%;
    flex-grow: 1; 
    display: flex; 
    align-items: center;
    justify-content: center;
    padding: 10px; 
}
.dsdk-gauge-svg {
    display: block;
    width: 100%; 
    max-width: 220px; 
    aspect-ratio: 1 / 1;
    overflow: visible; 
}
.dsdk-gauge-arc-background { fill: none; stroke: var(--dsdk-gauge-arc-background); stroke-linecap: round; }
.dsdk-gauge-arc-value { fill: none; stroke-linecap: round; transition: stroke-dashoffset 0.4s cubic-bezier(0.65, 0, 0.35, 1), stroke 0.3s ease-in-out; }
.dsdk-gauge-target-marker { fill: none; stroke: var(--dsdk-gauge-target-marker-color); stroke-linecap: butt; }
.dsdk-gauge-text-value { font-family: var(--dsdk-font-mono); font-weight: bold; text-anchor: middle; dominant-baseline: middle; transition: fill 0.3s ease-in-out; }
.dsdk-gauge-text-label { fill: var(--dsdk-gauge-label-color); font-family: var(--dsdk-font-sans); text-anchor: middle; dominant-baseline: middle; }
.dsdk-gauge-text-units { fill: var(--dsdk-gauge-units-color); font-family: var(--dsdk-font-sans); text-anchor: middle; dominant-baseline: middle; }
.dsdk-circular-gauge-panel.dsdk-panel-normal .dsdk-gauge-arc-value { stroke: var(--dsdk-gauge-arc-normal); }
.dsdk-circular-gauge-panel.dsdk-panel-normal .dsdk-gauge-text-value { fill: var(--dsdk-gauge-value-color-normal); }
.dsdk-circular-gauge-panel.dsdk-panel-warning .dsdk-gauge-arc-value { stroke: var(--dsdk-gauge-arc-warning); }
.dsdk-circular-gauge-panel.dsdk-panel-warning .dsdk-gauge-text-value { fill: var(--dsdk-gauge-value-color-warning); }
.dsdk-circular-gauge-panel.dsdk-panel-critical .dsdk-gauge-arc-value { stroke: var(--dsdk-gauge-arc-critical); }
.dsdk-circular-gauge-panel.dsdk-panel-critical .dsdk-gauge-text-value { fill: var(--dsdk-gauge-value-color-critical); }
.dsdk-circular-gauge-panel.dsdk-panel-stable .dsdk-gauge-arc-value { stroke: var(--dsdk-gauge-arc-stable); }
.dsdk-circular-gauge-panel.dsdk-panel-stable .dsdk-gauge-text-value { fill: var(--dsdk-gauge-value-color-stable); }
.dsdk-circular-gauge-panel.dsdk-panel-critical .dsdk-gauge-arc-value,
.dsdk-circular-gauge-panel.dsdk-panel-critical .dsdk-gauge-text-value { filter: drop-shadow(0 0 4px var(--dsdk-danger-color)) drop-shadow(0 0 8px rgba(var(--dsdk-rgb-danger-color), 0.6)); }
.dsdk-circular-gauge-panel.dsdk-panel-warning .dsdk-gauge-arc-value,
.dsdk-circular-gauge-panel.dsdk-panel-warning .dsdk-gauge-text-value { filter: drop-shadow(0 0 3px var(--dsdk-warning-color)) drop-shadow(0 0 7px rgba(var(--dsdk-rgb-warning-color), 0.5)); }
.dsdk-circular-gauge-panel.dsdk-panel-stable .dsdk-gauge-arc-value,
.dsdk-circular-gauge-panel.dsdk-panel-stable .dsdk-gauge-text-value { filter: drop-shadow(0 0 3px var(--dsdk-success-color)) drop-shadow(0 0 7px rgba(var(--dsdk-rgb-success-color), 0.5)); }
.dsdk-circular-gauge-panel.dsdk-panel-normal .dsdk-gauge-arc-value { filter: drop-shadow(0 0 2px var(--dsdk-accent-color-secondary)) drop-shadow(0 0 5px rgba(var(--dsdk-rgb-accent-secondary), 0.4)); }

/* --- StatusIndicatorLedPanel Styles --- */
.dsdk-status-indicator-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 6px; }
.dsdk-status-indicator-item { display: flex; align-items: center; padding: 4px 2px; border-bottom: 1px dashed rgba(255, 255, 255, 0.05); font-family: var(--dsdk-font-sans); font-size: 0.8rem; }
.dsdk-status-indicator-item:last-child { border-bottom: none; }
.dsdk-status-led { width: var(--dsdk-status-led-size); height: var(--dsdk-status-led-size); border-radius: 50%; margin-right: 8px; flex-shrink: 0; transition: background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out; position: relative; }
.dsdk-led-color-green { background-color: var(--dsdk-status-led-color-green); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-green), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-green), 0.5); }
.dsdk-led-color-yellow { background-color: var(--dsdk-status-led-color-yellow); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-yellow), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-yellow), 0.5); }
.dsdk-led-color-red { background-color: var(--dsdk-status-led-color-red); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-red), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-red), 0.5); }
.dsdk-led-color-blue { background-color: var(--dsdk-status-led-color-blue); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-blue), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-blue), 0.5); }
.dsdk-led-color-orange { background-color: var(--dsdk-status-led-color-orange); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-orange), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-orange), 0.5); }
.dsdk-led-color-purple { background-color: var(--dsdk-status-led-color-purple); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-purple), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-purple), 0.5); }
.dsdk-led-color-cyan { background-color: var(--dsdk-status-led-color-cyan); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-cyan), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-cyan), 0.5); }
.dsdk-led-color-white { background-color: var(--dsdk-status-led-color-white); box-shadow: 0 0 var(--dsdk-status-led-shadow-intensity) var(--dsdk-status-led-color-white), 0 0 calc(var(--dsdk-status-led-shadow-intensity) * 2) rgba(var(--dsdk-status-led-rgb-white), 0.3); }
.dsdk-led-color-off { background-color: var(--dsdk-status-led-color-off); box-shadow: inset 0 0 2px rgba(0,0,0,0.5); }
.dsdk-status-led.dsdk-led-blinking { animation: dsdk-led-blink-animation 1s infinite; }
@keyframes dsdk-led-blink-animation { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
.dsdk-status-led-text { color: var(--dsdk-text-color-darker); line-height: 1.2; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.dsdk-status-indicator-item:hover .dsdk-status-led-text { color: var(--dsdk-text-color); }


/* --- HorizontalBarGaugePanel Styles --- */
.dsdk-horizontal-bar-gauge-panel .dsdk-panel-content { /* Hereda flex-grow: 1 de la regla de excepción */
    padding: 10px !important; 
    justify-content: center; 
}
.dsdk-gauge-horizontal-wrapper {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 6px; 
}
.dsdk-gauge-horizontal-info {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    font-size: 0.75rem;
    padding: 0 2px; 
}
.dsdk-gauge-horizontal-label {
    color: var(--dsdk-gauge-h-label-color);
    font-weight: 600;
}
.dsdk-gauge-horizontal-value-text {
    color: var(--dsdk-gauge-h-value-color);
    font-family: var(--dsdk-font-mono);
    font-weight: bold;
}
.dsdk-gauge-horizontal-track {
    width: 100%;
    height: var(--dsdk-gauge-h-bar-height, 16px);
    background-color: var(--dsdk-gauge-h-track-bg);
    border-radius: 3px;
    overflow: hidden;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
}
.dsdk-gauge-horizontal-bar {
    height: 100%;
    width: 0%; 
    background-color: var(--dsdk-gauge-h-bar-normal); 
    border-radius: 3px;
    transition: width 0.4s cubic-bezier(0.65, 0, 0.35, 1), background-color 0.3s ease-in-out;
    box-shadow: 0 0 5px currentColor, 0 0 8px currentColor;
}

.dsdk-horizontal-bar-gauge-panel.dsdk-panel-normal .dsdk-gauge-horizontal-bar { background-color: var(--dsdk-gauge-h-bar-normal); }
.dsdk-horizontal-bar-gauge-panel.dsdk-panel-warning .dsdk-gauge-horizontal-bar { background-color: var(--dsdk-gauge-h-bar-warning); }
.dsdk-horizontal-bar-gauge-panel.dsdk-panel-critical .dsdk-gauge-horizontal-bar { background-color: var(--dsdk-gauge-h-bar-critical); }
.dsdk-horizontal-bar-gauge-panel.dsdk-panel-stable .dsdk-gauge-horizontal-bar { background-color: var(--dsdk-gauge-h-bar-stable); }
